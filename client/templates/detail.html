<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="{{ url_for('static', filename='detail.css') }}">
    <script src="{{ url_for('static', filename='components/scrap.js') }}"></script>
    <script src="{{ url_for('static', filename='components/submitreview.js') }}"></script>

    <script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=19283dede40ba3fbe3160877cfa10827"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            var container = document.getElementById('map');
            var options = {
                center: new kakao.maps.LatLng(33.450701, 126.570667),
                level: 3
            };
            var map = new kakao.maps.Map(container, options);
        });
    </script>
</head>
<body>
    <nav class="navbar">
        <ul class="navlink">
            <li><a href="index.html">Main</a></li>
            <li><a href="spot.html">Spot</a></li>
            <li><a href="calender.html">Calender</a></li>
        </ul>
    </nav>

    <div class="content" id="content">
        <div class="spotsection">
            <img class="spotimage" src="{{ url_for('static', filename='image/gyungbok.jpeg') }}" width="45%">
            <div class="spotinfo">
                <div class="name">{{ spot.name }}</div>
                <div class="type">{{ spot.location }}/{{ spot.type }}</div>
                <div class="description">{{ spot.description }}</div>
                <button id="bookmark-button" class="bookmark-button" style="color:#FFFFFF">스크랩</button>
            </div>
        </div>
        <div class="divider"></div>
        <div class="mapsection">
            <div class="map" id="map" style="width:500px;height:400px;"></div>
        </div>
    </div>

    <div class="reviewsection">
        <!-- 리뷰 섹션 -->
        {% for review in reviews %}
        <div class="review">
            <div class="sentence">{{ review.review }}</div>
            <div class="rating">
                {% for i in range(1, 6) %}
                    <span class="star{% if i <= review.rating %} active{% endif %}">★</span>
                {% endfor %}
            </div>
            <div class="reviewerinfo">
                <div class="reviewername">Reviewer: {{ review.reviewer_name }}</div>
                <div class="reviewerid">ID: {{ review.reviewer_id }}</div>
            </div>
        </div>
        {% endfor %}
        <!-- 리뷰 제출 폼 -->
        <div class="reviewsubmitsection">
            <div class="starrating">
                <span class="star" data-value="1">★</span>
                <span class="star" data-value="2">★</span>
                <span class="star" data-value="3">★</span>
                <span class="star" data-value="4">★</span>
                <span class="star" data-value="5">★</span>
            </div>
            <label for="review-input">리뷰 등록</label>
            <div class="submitsection">
                <input type="text" id="reviewinput" class="reviewinput" placeholder="리뷰를 입력하세요">
                <input type="hidden" id="spot-id" value="{{ spot.id }}">
                <input type="hidden" id="reviewer-id" value="User123"> <!-- 실제 사용자 ID로 대체 -->
                <input type="hidden" id="reviewer-name" value="User Name"> <!-- 실제 사용자 이름으로 대체 -->
                <button id="submitreview" class="submit">등록</button>
            </div>
        </div>
    </div>
</body>
</html>
